# 区别Cookie,LocalStorage,SessionStorage

1. 生命周期
   1. cookie
      1. 如果有设置max-age,只要没有超过最大超时时间而且用户不主动删除数据,数据就不会销毁
      2. 如果没有设置max-age(这种cookie成为session cookie,又称为会话级cookie),所以如果浏览器关闭或者标签页关闭,那么数据将会销毁
   2. localStorage(持久化存储)
      1. 只要用户不主动删除数据,该数据永远存在
   3. sessionStorage(会话存储)
      1. 如果浏览器关闭或者标签页关闭,那么存在sessionStorage中的数据就会销毁
      2. 问题:请问刷新当前标签页,数据是否会销毁?
         1. 不会销毁
2. 存储位置
   1. cookie
      1. 如果有设置max-age,存储于硬盘中
      2. 如果没有设置max-age,存储于内存中
   2. localStorage
      1. 存储于硬盘中
   3. sessionStorage
      1. 存储于内存中
3. 存储大小
   1. cookie->4KB
   2. localStorage->一般是5MB,IE浏览器大小约为3MB
   3. sessionStorage->一般是5MB,IE浏览器大小约为3MB
4. 作用范围
   1. cookie
      1. cookie的作用范围和两个关键属性有关
         1. domain属性
            1. 例如:domain="baidu.com"
            2. 如果cookie的domain属性如上,就代表该cookie可以作用于baidu.com衍生出来的所有子域名
            3. 只能儿子读取父亲的,父亲不能使用儿子的
         2. path属性
            1. 例如:path="/a"
            2. 如果cookie的path属性如上,就代表该cookie可以作用于/a路由的子路由中
            3. 只能儿子读取父亲的,父亲不能使用儿子的
   2. localStorage
      1. 可以跨标签页进行通信,只能在相同的域名下才能访问
   3. sessionStorage
      1. 不可以跨标签页进行通信,他只能在当前标签页而且域名相同的情况下使用
5. 与服务器之间的关系
   1. cookie(被"借用"的本地存储)
      1. cookie是**由服务器创建,浏览器存储**
      2. 服务器可以通过响应头将cookie数据传递给浏览器,浏览器识别之后自动存储
         1. 服务器会在响应头中添加**set-Cookie**属性,将需要保存的数据从服务器发给浏览器
      3. 浏览器在请求服务器的时候,会自动携带上相关的cookie进行发送
         1. 浏览器会在请求头中添加**Cookie**属性,将相关数据发送给服务器
   2. localStorage
      1. 与服务器不熟,没有关系
   3. sessionStorage
      1. 与服务器不熟,没有关系