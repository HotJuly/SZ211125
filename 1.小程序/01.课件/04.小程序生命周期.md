# 小程序生命周期

1. 小程序生命周期共有几个?
   1. 一共有5个
2. 生命周期阶段划分
   1. 进入阶段
      1. onLoad
         1. **用于监视页面开始加载**
         2. 类似于Vue中的created
         3. 使用场景:如果有一件事情,在挂载当前页面的时候需要执行,那么就在当前阶段触发(**时间最早**)
      2. onShow
         1. **用于监视页面开始显示**
         2. 类似于Vue中的activated(激活)
         3. 使用场景:如果有一件事情,每次进入当前页面都需要执行,那么就在当前阶段触发(**执行最稳**)
      3. onReady
         1. **用于监视页面初次渲染完成**
         2. 类似于Vue中的mounted
         3. 使用场景:页面成功渲染完毕,可以看到内容,此时做大量的逻辑操作也不会影响到页面渲染(**影响最小**)
         4. 问题:区分渲染和挂载
            1. 挂载:将DOM节点添加到html中
            2. 渲染:将html中的内容绘制到页面上
   2. 离开阶段
      1. onHide
         1. 用于监听页面隐藏
         2. 类似于Vue中的deactivated(失活)
         3. 使用wx.navigateTo离开当前页面,会保留当前页面的实例对象,同时触发当前页面的onHide生命周期
            1. 使用wx.navigateTo离开当前页面(回退按钮),再次回到当前页面的时候,只会触发onShow生命周期
      2. onUnload
         1. 用于监听页面卸载
         2. 类似于Vue中的beforeDestroy
         3. 使用wx.redirectTo离开当前页面,会销毁当前页面的实例对象,同时触发当前页面的onUnload生命周期
            1. 使用wx.redirectTo离开当前页面,下次在进入该页面会触发进入阶段所有的生命周期
            2. **注意点:**
               1. **销毁当前页面实例对象的手段**
                  1. **wx.redirectTo**
                  2. **左上角的回退按钮**
3. 生命周期图
   1. 生命周期图所示,在onLoad和onShow执行之后,才会将初始数据发送给视图层进行展示
   2. 然后实际调试工具效果得知,onLoad阶段就已经可以看到页面了
   3. 个人认为,显示效果与生命周期图不相同,建议以生命周期图为准,debugger可能有问题

